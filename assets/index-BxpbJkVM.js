import{b as h,a as j,u as f,j as e,z as y}from"./index-CcraiqMI.js";import{P as b,o as m}from"./index-MT3L5gSw.js";import{u as C,d as c}from"./dayjs.min-ltpgqzRk.js";function w(){h();const n=j(),[l]=f(),r=JSON.parse(decodeURIComponent(l.get("completedList")||"[]")),a=l.get("totalTime")||0,[d,p]=C("clockObj",{defaultValue:{}}),x=d[c().format("YYYY-MM-DD")],u=()=>{y.success("打卡成功"),p(o=>({...o,[c().format("YYYY-MM-DD")]:!0}))},g=()=>{const o=r.length,t=r.filter(i=>i.userAnswer==i.answer).length,s=Math.round(t/o*100);return{total:o,correct:t,accuracy:s}};return e.jsx(b,{title:"练习结果",children:e.jsxs("div",{style:{padding:"0px 10px",backgroundColor:"white"},children:[e.jsx("h3",{style:{textAlign:"center",marginBottom:"20px",color:"#333",fontSize:"20px"},children:"本次练习结果"}),e.jsxs("div",{style:{marginBottom:"20px",fontSize:"16px",color:"#666",lineHeight:"1.8",padding:"0 5px"},children:[e.jsxs("p",{children:["完成用时：",a,"秒"]}),(()=>{const{total:o,correct:t,accuracy:s}=g();return e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["题目总数：",o]}),e.jsxs("p",{children:["正确题数：",t]}),e.jsxs("p",{children:["正确率：",s,"%"]})]})})()]}),e.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"20px"},children:[e.jsx("h4",{style:{fontSize:"16px",color:"#333",marginBottom:"15px",textAlign:"center"},children:"答题详情"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:r.map((o,t)=>{const s=o.userAnswer==o.answer;return e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 8px",backgroundColor:"#f9f9f9",borderRadius:"6px",fontSize:"14px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[e.jsxs("span",{style:{color:"#666"},children:[t+1,"."]}),e.jsxs("span",{children:[o.num1," ",m[o.operateType]," ",o.num2," ="]}),e.jsx("span",{style:{color:s?"#4CAF50":"#F44336",fontWeight:"500"},children:o.userAnswer})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[!s&&e.jsxs("span",{style:{color:"#666",fontSize:"13px"},children:["正确答案: ",o.answer]}),e.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"12px",backgroundColor:s?"#E8F5E9":"#FFEBEE",color:s?"#4CAF50":"#F44336"},children:s?"正确":"错误"})]})]},o.id)})})]}),e.jsx("div",{style:{height:"80px"}}),e.jsxs("div",{style:{position:"fixed",bottom:"0",left:"0",right:"0",padding:"15px",display:"flex",gap:"10px",justifyContent:"center",backgroundColor:"white",borderTop:"1px solid #eee"},children:[e.jsx("button",{onClick:()=>n("/home"),style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#f5f5f5",color:"#666"},children:"返回首页"}),e.jsx("button",{onClick:()=>n(-1),style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#4A90E2",color:"white"},children:"再次练习"}),!x&&e.jsx("button",{onClick:u,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#07bc0c",color:"white"},children:"打卡"})]})]})})}export{w as default};

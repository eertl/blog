import{h as E}from"./utils-Clcu7N0_.js";import{r,w as u,R as t,c as f}from"./index-DlWyhGFl.js";import{m as p}from"./const-Dfd97pFX.js";const $="adm-dot-loading",y={default:"var(--adm-color-weak)",primary:"var(--adm-color-primary)",white:"var(--adm-color-white)"},w={color:"default"},k=r.memo(n=>{var a;const e=p(w,n);return u(e,t.createElement("div",{style:{color:(a=y[e.color])!==null&&a!==void 0?a:e.color},className:f("adm-loading",$)},t.createElement("svg",{height:"1em",viewBox:"0 0 100 40",style:{verticalAlign:"-0.125em"}},t.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(-100.000000, -71.000000)"},t.createElement("g",{transform:"translate(95.000000, 71.000000)"},t.createElement("g",{transform:"translate(5.000000, 0.000000)"},[0,1,2].map(l=>t.createElement("rect",{key:l,fill:"currentColor",x:20+l*26,y:"16",width:"8",height:"8",rx:"2"},t.createElement("animate",{attributeName:"y",from:"16",to:"16",dur:"2s",begin:`${l*.2}s`,repeatCount:"indefinite",values:"16; 6; 26; 16; 16",keyTimes:"0; 0.1; 0.3; 0.4; 1"}))))))))))});function b(n){return!!n&&typeof n=="object"&&typeof n.then=="function"}const o="adm-button",x={color:"default",fill:"solid",block:!1,loading:!1,loadingIcon:t.createElement(k,{color:"currentColor"}),type:"button",shape:"default",size:"middle"},N=r.forwardRef((n,a)=>{const e=p(x,n),[l,s]=r.useState(!1),c=r.useRef(null),i=e.loading==="auto"?l:e.loading,d=e.disabled||i;r.useImperativeHandle(a,()=>({get nativeElement(){return c.current}}));const g=h=>E(void 0,void 0,void 0,function*(){if(!e.onClick)return;const m=e.onClick(h);if(b(m))try{s(!0),yield m,s(!1)}catch(v){throw s(!1),v}});return u(e,t.createElement("button",{ref:c,type:e.type,onClick:g,className:f(o,{[`${o}-${e.color}`]:e.color,[`${o}-block`]:e.block,[`${o}-disabled`]:d,[`${o}-fill-outline`]:e.fill==="outline",[`${o}-fill-none`]:e.fill==="none",[`${o}-mini`]:e.size==="mini",[`${o}-small`]:e.size==="small",[`${o}-large`]:e.size==="large",[`${o}-loading`]:i},`${o}-shape-${e.shape}`),disabled:d,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onTouchStart:e.onTouchStart,onTouchEnd:e.onTouchEnd},i?t.createElement("div",{className:`${o}-loading-wrapper`},e.loadingIcon,e.loadingText):t.createElement("span",null,e.children)))});export{N as B};

import{r as g,m as $,w as b,R as a,c as N,a as F,j as n}from"./index-ClX5aGwm.js";import{B as E,f as S}from"./utils-GvNWx03-.js";import{t as y,a as I,u as L,F as m,b as V,C as q}from"./index-BDS1ygaf.js";import{u as z,P as R}from"./index-D3us8QhY.js";const T=(s={})=>g.useMemo(()=>{const{label:r="label",value:i="value",disabled:o="disabled",children:u="children"}=s;return[r,i,u,o]},[JSON.stringify(s)]),w="adm-grid",D=s=>{const e={"--columns":s.columns.toString()},{gap:r}=s;return r!==void 0&&(Array.isArray(r)?(e["--gap-horizontal"]=y(r[0]),e["--gap-vertical"]=y(r[1])):e["--gap"]=y(r)),b(s,a.createElement("div",{className:w,style:e},s.children))},M=s=>{const e=$({span:1},s),r={"--item-span":e.span};return b(e,a.createElement("div",{className:`${w}-item`,style:r,onClick:e.onClick},e.children))},B=I(D,{Item:M}),d="adm-space",G={direction:"horizontal"},H=s=>{const e=$(G,s),{direction:r,onClick:i}=e;return b(e,a.createElement("div",{className:N(d,{[`${d}-wrap`]:e.wrap,[`${d}-block`]:e.block,[`${d}-${r}`]:!0,[`${d}-align-${e.align}`]:!!e.align,[`${d}-justify-${e.justify}`]:!!e.justify}),onClick:i},a.Children.map(e.children,o=>o!=null&&a.createElement("div",{className:`${d}-item`},o))))},A=g.memo(()=>a.createElement("svg",{width:"17px",height:"13px",viewBox:"0 0 17 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("g",{transform:"translate(-2832.000000, -1103.000000)",stroke:"#FFFFFF",strokeWidth:"3"},a.createElement("g",{transform:"translate(2610.000000, 955.000000)"},a.createElement("g",{transform:"translate(24.000000, 91.000000)"},a.createElement("g",{transform:"translate(179.177408, 36.687816)"},a.createElement("polyline",{points:"34.2767388 22 24.797043 31.4796958 21 27.6826527"})))))))),p="adm-selector",W={multiple:!1,defaultValue:[],showCheckMark:!0},h=s=>{const e=$(W,s),[r,i,,o]=T(e.fieldNames),[u,v]=L({value:e.value,defaultValue:e.defaultValue,onChange:t=>{var l;const c={get items(){return e.options.filter(k=>t.includes(k[i]))}};(l=e.onChange)===null||l===void 0||l.call(e,t,c)}}),{locale:x}=z(),f=e.options.map(t=>{const l=(u||[]).includes(t[i]),c=t[o]||e.disabled,k=N(`${p}-item`,{[`${p}-item-active`]:l&&!e.multiple,[`${p}-item-multiple-active`]:l&&e.multiple,[`${p}-item-disabled`]:c});return a.createElement("div",{key:t[i],className:k,onClick:()=>{if(!c)if(e.multiple){const j=l?u.filter(P=>P!==t[i]):[...u,t[i]];v(j)}else{const j=l?[]:[t[i]];v(j)}},role:"option","aria-selected":l&&!e.multiple||l&&e.multiple},t[r],t.description&&a.createElement("div",{className:`${p}-item-description`},t.description),l&&e.showCheckMark&&a.createElement("div",{className:`${p}-check-mark-wrapper`},a.createElement(A,null)))});return b(e,a.createElement("div",{className:p,role:"listbox","aria-label":x.Selector.name},e.columns?a.createElement(B,{columns:e.columns},f):a.createElement(H,{wrap:!0},f)))},C=[{label:"1位",value:"1"},{label:"2位",value:"2"},{label:"3位",value:"3"},{label:"4位",value:"4"},{label:"5位",value:"5"},{label:"6位",value:"6"}],J=[{label:"+",value:"add"},{label:"-",value:"sub"},{label:"*",value:"mul"},{label:"/",value:"div"}];function K(){const s=F(),[e,r]=g.useState(),[i]=m.useForm(),[,o]=V("questionListHistory",{defaultValue:[]}),u=g.useRef(),v=t=>{const l=f(t);s({pathname:"/practice",search:S(l)}),o(c=>[...c,{...l,id:`${Date.now()}`}])},x=()=>{i.validateFields().then(t=>{r(f(t)),u.current?.exportImg?.()})},f=t=>{const l={};for(let c in t)l[c]=t[c][0];return l};return n.jsxs(R,{title:"自定义题型",children:[n.jsxs(m,{layout:"horizontal",onFinish:v,form:i,footer:n.jsxs("div",{style:{display:"flex",gap:"15px",flexDirection:"column"},children:[n.jsx(E,{type:"submit",color:"primary",size:"large",children:"开始练习"}),n.jsx(E,{color:"default",onClick:x,size:"large",children:"导出"})]}),initialValues:{num1:["3"],num2:["3"],operateType:["add"],total:["20"]},children:[n.jsx(m.Header,{children:"选择题型"}),n.jsx(m.Item,{rules:[{required:!0,message:"请选择位数"}],name:"num1",label:"位数",children:n.jsx(h,{options:C})}),n.jsx(m.Item,{rules:[{required:!0,message:"请选择运算类型"}],name:"operateType",label:"运算类型",children:n.jsx(h,{options:J})}),n.jsx(m.Item,{rules:[{required:!0,message:"请选择位数"}],name:"num2",label:"位数",children:n.jsx(h,{options:C})}),n.jsx(m.Item,{rules:[{required:!0,message:"请选择题量"}],name:"total",label:"题量",children:n.jsx(h,{options:[{label:"3",value:"3"},{label:"20",value:"20"},{label:"30",value:"30"}]})})]}),n.jsx(q,{data:e,ref:u})]})}export{K as default};

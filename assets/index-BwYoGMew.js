import{r as b,m as $,w as x,R as a,c as N,a as F,j as r}from"./index-DeIuDfdd.js";import{B as E}from"./button-BMUmwtWZ.js";import{a as S,u as I,F as u,C as V}from"./index-Ya7VllY-.js";import{u as z,P as R}from"./index-DA7kvMAJ.js";import{f as T}from"./utils-Bvpaadr1.js";function y(t){return typeof t=="number"?`${t}px`:t}const q=(t={})=>b.useMemo(()=>{const{label:l="label",value:i="value",disabled:o="disabled",children:m="children"}=t;return[l,i,m,o]},[JSON.stringify(t)]),w="adm-grid",L=t=>{const e={"--columns":t.columns.toString()},{gap:l}=t;return l!==void 0&&(Array.isArray(l)?(e["--gap-horizontal"]=y(l[0]),e["--gap-vertical"]=y(l[1])):e["--gap"]=y(l)),x(t,a.createElement("div",{className:w,style:e},t.children))},M=t=>{const e=$({span:1},t),l={"--item-span":e.span};return x(e,a.createElement("div",{className:`${w}-item`,style:l,onClick:e.onClick},e.children))},B=S(L,{Item:M}),d="adm-space",D={direction:"horizontal"},G=t=>{const e=$(D,t),{direction:l,onClick:i}=e;return x(e,a.createElement("div",{className:N(d,{[`${d}-wrap`]:e.wrap,[`${d}-block`]:e.block,[`${d}-${l}`]:!0,[`${d}-align-${e.align}`]:!!e.align,[`${d}-justify-${e.justify}`]:!!e.justify}),onClick:i},a.Children.map(e.children,o=>o!=null&&a.createElement("div",{className:`${d}-item`},o))))},A=b.memo(()=>a.createElement("svg",{width:"17px",height:"13px",viewBox:"0 0 17 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("g",{transform:"translate(-2832.000000, -1103.000000)",stroke:"#FFFFFF",strokeWidth:"3"},a.createElement("g",{transform:"translate(2610.000000, 955.000000)"},a.createElement("g",{transform:"translate(24.000000, 91.000000)"},a.createElement("g",{transform:"translate(179.177408, 36.687816)"},a.createElement("polyline",{points:"34.2767388 22 24.797043 31.4796958 21 27.6826527"})))))))),p="adm-selector",H={multiple:!1,defaultValue:[],showCheckMark:!0},g=t=>{const e=$(H,t),[l,i,,o]=q(e.fieldNames),[m,f]=I({value:e.value,defaultValue:e.defaultValue,onChange:s=>{var n;const h={get items(){return e.options.filter(k=>s.includes(k[i]))}};(n=e.onChange)===null||n===void 0||n.call(e,s,h)}}),{locale:v}=z(),c=e.options.map(s=>{const n=(m||[]).includes(s[i]),h=s[o]||e.disabled,k=N(`${p}-item`,{[`${p}-item-active`]:n&&!e.multiple,[`${p}-item-multiple-active`]:n&&e.multiple,[`${p}-item-disabled`]:h});return a.createElement("div",{key:s[i],className:k,onClick:()=>{if(!h)if(e.multiple){const j=n?m.filter(P=>P!==s[i]):[...m,s[i]];f(j)}else{const j=n?[]:[s[i]];f(j)}},role:"option","aria-selected":n&&!e.multiple||n&&e.multiple},s[l],s.description&&a.createElement("div",{className:`${p}-item-description`},s.description),n&&e.showCheckMark&&a.createElement("div",{className:`${p}-check-mark-wrapper`},a.createElement(A,null)))});return x(e,a.createElement("div",{className:p,role:"listbox","aria-label":v.Selector.name},e.columns?a.createElement(B,{columns:e.columns},c):a.createElement(G,{wrap:!0},c)))},C=[{label:"1位",value:"1"},{label:"2位",value:"2"},{label:"3位",value:"3"},{label:"4位",value:"4"},{label:"5位",value:"5"},{label:"6位",value:"6"}],W=[{label:"+",value:"add"},{label:"-",value:"sub"},{label:"*",value:"mul"},{label:"/",value:"div"}];function Q(){const t=F(),[e,l]=b.useState(),[i]=u.useForm(),o=b.useRef(),m=c=>{t({pathname:"/practice",search:T(v(c))})},f=()=>{i.validateFields().then(c=>{l(v(c)),o.current?.exportImg?.()})},v=c=>{const s={};for(let n in c)s[n]=c[n][0];return s};return r.jsxs(R,{title:"自定义题型",children:[r.jsxs(u,{layout:"horizontal",onFinish:m,form:i,footer:r.jsxs("div",{style:{display:"flex",gap:"15px",flexDirection:"column"},children:[r.jsx(E,{type:"submit",color:"primary",size:"large",children:"开始练习"}),r.jsx(E,{color:"default",onClick:f,size:"large",children:"导出"})]}),initialValues:{num1:["3"],num2:["3"],operateType:["add"],total:["20"]},children:[r.jsx(u.Header,{children:"选择题型"}),r.jsx(u.Item,{rules:[{required:!0,message:"请选择位数"}],name:"num1",label:"位数",children:r.jsx(g,{options:C})}),r.jsx(u.Item,{rules:[{required:!0,message:"请选择运算类型"}],name:"operateType",label:"运算类型",children:r.jsx(g,{options:W})}),r.jsx(u.Item,{rules:[{required:!0,message:"请选择位数"}],name:"num2",label:"位数",children:r.jsx(g,{options:C})}),r.jsx(u.Item,{rules:[{required:!0,message:"请选择题量"}],name:"total",label:"题量",children:r.jsx(g,{options:[{label:"3",value:"3"},{label:"20",value:"20"},{label:"30",value:"30"}]})})]}),r.jsx(V,{data:e,ref:o})]})}export{Q as default};
